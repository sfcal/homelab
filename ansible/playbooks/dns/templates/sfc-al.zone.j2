$ORIGIN sfc.al.
$TTL 86400	; 1 day
@	IN SOA	ns.sfc.al. admin.sfc.al. (
				{{ ansible_date_time.year }}{{ ansible_date_time.month }}{{ ansible_date_time.day }}01 ; serial (generated)
				3600       ; refresh (1 hour)
				3600       ; retry (1 hour)
				2419200    ; expire (4 weeks)
				3600       ; minimum (1 hour)
				)
			NS	ns.sfc.al.

; Name servers (internal)
ns		IN A	{{ dns_servers | selectattr('role', 'equalto', 'primary') | map(attribute='ip') | first }}

; Split horizon entries - point to internal IPs
; These override external DNS when resolved internally

; Media stack services (from Docker Swarm)
sonarr		IN A	10.2.0.5
radarr		IN A	10.2.0.5
prowlarr	IN A	10.2.0.5
sabnzbd		IN A	10.2.0.5
bazarr		IN A	10.2.0.5
plex		IN A	10.2.0.5
ersatztv	IN A	10.2.0.5
pulsarr		IN A	10.2.0.5
cleanuparr	IN A	10.2.0.5
huntarr		IN A	10.2.0.5
tdarr		IN A	10.2.0.5
tunarr		IN A	10.2.0.5
frigate		IN A	10.2.0.5

; Infrastructure services
traefik		IN A	10.2.20.140
nginx		IN A	10.2.20.140
grafana		IN A	10.2.20.140
longhorn	IN A	10.2.20.140

; Wildcard for any k8s services
*.k8s		IN A	10.2.20.140

; Wildcard for all subdomains (catches everything else)
*		IN A	10.2.20.140
